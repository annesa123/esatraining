# Network & Services
## ClusterIP
cat <<EOF> service-clusterip.yaml
apiVersion: v1
kind: Service
metadata:
  name: kubeapp
spec:
  type: ClusterIP
  selector:
    app: kubeapp
  ports:
  - port: 80
    protocol: TCP
    targetPort: 8000
EOF

kubectl apply -f service-clusterip.yaml

(optional)#cara lain expose deployment
kubectl expose deployment kubeapp --port=80 --target-port=8000

kubectl get svc
kubectl describe svc kubeapp
kubectl get ep
kubectl describe ep
kubectl get pods -o wide

#verifikasi service
kubectl run test -it --rm --image=kubenesia/kubebox -- sh
curl kubeapp
curl <IP SERVICE>
exit
